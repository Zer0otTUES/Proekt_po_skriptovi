<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stock Price Prediction</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<link rel="stylesheet" href="{{ url_for('static', filename='predict.css')}}">
<body>
    <h1>Stock Price Prediction</h1>
    <form id="prediction-form" action="#" method="post">
        <label for="company">Company Symbol:</label>
        <input type="text" id="company" name="company" required>
        <br>
        <div class="loading-container" id="loading-container" style="display: none;">
    <div class="loading-text">Loading...</div>
    <div class="loading-bar"></div>
</div>
        </div>
        <label for="start">Start Date :</label>
        <input type="date" id="start" name="start" required>
        <br>

        <label for="end">End Date :</label>
        <input type="date" id="end" name="end" required>
        <br>

        <label for="test_start">Test Start Date :</label>
        <input type="date" id="test_start" name="test_start" required>
        <br>

        <label for="test_end">Test End Date :</label>
        <input type="date" id="test_end" name="test_end" required>
        <br>

        <label for="future_days">Future Days to Predict:</label>
        <input type="number" id="future_days" name="future_days" min="1" value="1" required>
        <br>

        <input type="submit" value="Predict" onclick="submitForm()">
    </form>
    <script>
        function submitForm() {
            showLoadingBar();
            $.ajax({
                type: 'POST',
                url: '/predict',
                data: $('#prediction-form').serialize(),
                success: function(response) {
                    $('#results').html(response);
                    hideLoadingBar();
                },
                error: function() {
                    alert('An error occurred. Please try again later.');
                    hideLoadingBar();
                }
            });
            return false;
        }

        function showLoadingBar() {
            $('#loading-container').show();
        }

        function hideLoadingBar() {
            $('#loading-container').hide();
        }
    </script>
</body>
</html>
